
> æ­£åˆ™ <
str.replace(/[^0-9\;]/ig,"");
str.replace(/<[^>]+>/g,""); // å–å‡º html
/(?<=i\/).*?(?=\/)/ // ä¸¤ä¸ªç‰¹æ®Šç¬¦å·ä¹‹é—´çš„å†…å®¹
var str = 'trem-1234';
var s=/\w+\-(\d+)/.exec(str);

> css <
font-family: system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', 'Helvetica Neue', 'Arial', sans-serif;
.blue-gradient-background {
    background: linear-gradient(135deg, rgba(80, 122, 196, 1) 43%, rgba(128, 192, 226, 1) 89%);
    background-color: rgb(80, 122, 196);
}
# æ£‹ç›˜
background: repeating-conic-gradient(#ddd 0deg 25%, white 0deg 50%);
background-size: 60px 60px;

> js <
# 20190410 ä¸€å¥è¯æå®š5æ˜Ÿè¯„åˆ†
"â˜…â˜…â˜…â˜…â˜…â˜†â˜†â˜†â˜†â˜†".substring(5 - rating, 10 - rating);

# æ•°ç»„å»é‡ https://dmitripavlutin.com/javascript-array-from-applications/
function unique(array) {
return Array.from(new Set(array));
}
unique([1, 1, 2, 3, 3]); // => [1, 2, 3]

# åˆå¹¶å¯¹è±¡
let form = {name: 'liming', sex: 'ç”·'};
let obj = {class: 'ä¸€ç­', age: 15};
Object.assign(form, obj);

# å¯¹è±¡è½¬ json
JSON.stringify(obj);

# åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºç©º
1. JSON.stringify(obj) === '{}'
2. Object.keys(obj).length === 0

# åˆ¤æ–­ js å¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„
var arr = [1,2,3,1];
alert(arr instanceof Array); // true
alert(arr.constructor === Array); // true

# æ£€æµ‹æ•°ç»„ site æ˜¯å¦åŒ…å« runoob
let site = ['runoob', 'google', 'taobao'];
site.includes('runoob'); // true 

# console.log / color
console.log("%c U %c Want something shining ",'background: linear-gradient(to right, #09f0fb, #047edf);color:#fff;border-radius:2px 0 0 2px', 'background:#673ab7;border-radius:0 2px 2px 0; color:#fff;');
- 'background: linear-gradient(to right, #09f0fb, #047edf);color:#fff;border-radius:2px 0 0 2px', 'background: linear-gradient(to right, #047edf, #b66dff);border-radius:0 2px 2px 0; color:#fff;' - #673ab7
#var OriginTitile = document.title, st;
document.addEventListener("visibilitychange", function () {document.hidden ? (document.title = "çœ‹ä¸è§æˆ‘ğŸ™ˆ~çœ‹ä¸è§æˆ‘ğŸ™ˆ~", clearTimeout(st)) :
(document.title = "(à¹‘â€¢Ì€ã…‚â€¢Ì) âœ§è¢«å‘ç°äº†ï½", st = setTimeout(function () {document.title = OriginTitile}, 3e3))})

> git <
git config --global user.email 'vioulo@outlook.com'
git config --global user.name 'V'
git config --global core.editor vim

git fetch --all  #ä¸‹è½½è¿œç¨‹çš„åº“çš„å†…å®¹ï¼Œä¸åšä»»ä½•çš„åˆå¹¶ 
git reset --hard origin/master #æŠŠHEADæŒ‡å‘åˆšåˆšä¸‹è½½çš„æœ€æ–°çš„ç‰ˆæœ¬
git pull

å…ˆä¿®æ”¹ .gitignore
å†æ¸…ç©º git ç¼“å­˜
git rm -r --cached .
git add .
git commit -m 'update .gitignore'

git branch -a
git checkout -b new_branch
git checkout master

git branch -d new_branch
git push origin --delete new_branch

# æ’¤é”€ git add 
git reset <file>

# æ’¤é”€ git commit
git reset --xx
--mixed ä¸åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œå¹¶æ’¤é”€git add . é»˜è®¤å‚æ•°ï¼Œ ç­‰ä»·äº git reset HEAD^
--soft  ä¸åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œä¸æ’¤é”€git add .
--hard    åˆ é™¤å·¥ä½œç©ºé—´æ”¹åŠ¨ä»£ç ï¼Œæ’¤é”€commitï¼Œå¹¶æ’¤é”€git add .
# ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ git checkout -- <file>
# git è¿œç¨‹ä»“åº“å›é€€ç‰ˆæœ¬
1.é¦–å…ˆå°†æœ¬åœ°ä»“åº“ç‰ˆæœ¬å›é€€åˆ°è‡ªå·±æƒ³è¦çš„ç‰ˆæœ¬ã€‚git log
2.å›é€€æœ¬åœ°ç‰ˆæœ¬åº“ git reset commit_id
3.å°†å›é€€åçš„ç‰ˆæœ¬å¼ºåˆ¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚git push -f origin master

# æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹
git log --pretty=oneline æ–‡ä»¶å
git show hash

# å¿½ç•¥æ–‡ä»¶çš„æƒé™
-git config core.filemode false
-git config --global core.fileMode false

> php <
å‘ç° post è¯·æ±‚æ²¡æœ‰ sessionï¼Œåˆ¤æ–­æ˜¯æƒé™çš„é—®é¢˜ï¼Œç»“æœä¸æ˜¯ï¼Œåº”è¯¥æ˜¯è½¯ä»¶å®‰è£…è¿‡ç¨‹ä¸­ php åŒ…çš„é¡ºåºä¸å¯¹å¼•èµ·çš„

install php in debian
Step 1: Update system
Ensure your system is updated:
- sudo apt update
- sudo apt upgrade -y && sudo reboot
Step 2: Add SURY PHP PPA repository
Download and store PPA repository in a file on your Debian Server/Desktop. But first, download GPG key.
- sudo apt -y install lsb-release apt-transport-https ca-certificates 
-sudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg
Then add repository.
- echo "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/php.list
Step 3: Install PHP 7.4 on Debian 10 / Debian 9
The last step is to Install PHP 7.4 on Debian 10 / Debian 9. Before installation, update system package list on added repositories.
- sudo apt update
Then install  PHP 7.4 on Debian 10 / Debian 9:
- sudo apt -y install php7.4
Answer yes when prompted to complete installation of PHP 7.4 on Debian 10 / Debian 9 Linux system.
- apt install php7.2-{ xxx }
- apt install php7.2-common php7.2-fpm php7.2-mysql php7.2-curl php7.2-gd php7.2-mbstring php7.2-xml php7.2-xmlrpc php7.2-zip php7.2-opcache
- apt install php7.4-common php7.4-fpm php7.4-mysql php7.4-curl php7.4-gd php7.4-mbstring php7.4-xml php7.4-xmlrpc php7.4-zip php7.4-opcache

> debian install php8.0 <
-sudo apt install -y lsb-release apt-transport-https ca-certificates wget
-sudo wget -O /etc/apt/trusted.gpg.d/php.gpg https://packages.sury.org/php/apt.gpg
-echo "deb https://packages.sury.org/php/ $(lsb_release -sc) main" | sudo tee /etc/apt/sources.list.d/php.list

-sudo apt update
-sudo apt install php8.0- {æ‰©å±•å}
-sudo apt-cache search php8.0
> laravel <
laravel.com
php artisan key:generate
php artisan storage:link
supervisorctl restart laravel-worker:*

laravel-nginx-routes-setup
location / {
    try_files $uri $uri/ /index.php?$query_string;
}
* * * * * root /usr/bin/php7.2 /var/www/console/artisan schedule:run >> /dev/null 2>&1

> composer <
composer config -g repo.packagist composer https://packagist.phpcomposer.com
composer config repo.packagist composer https://packagist.phpcomposer.com
composer config -g --unset repos.packagist

> mysql <
mysql_secure_installation
mysql -uroot -p
CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON *.* TO 'newuser'@'localhost';
FLUSH PRIVILEGES;

SET PASSWORD FOR 'sds20121214xc'@'localhost' = PASSWORD('srs@20191214');

# import sql file
source /home/xxx.sql
mysql -uç”¨æˆ·å -på¯†ç  æ•°æ®åº“å < æ•°æ®åº“å.sql
# export sql to file
mysqldump -uç”¨æˆ·å -på¯†ç  æ•°æ®åº“å è¡¨å > data.sql

# æ•°æ®åº“ä¸­é¿å…å­˜å‚¨ null å€¼ï¼›not in ç­‰ä¸€äº› sql å¤„ç†å€¼æ—¶å€™å®¹æ˜“å‡ºé”™ ä¹Ÿè¦æ³¨æ„ç›¸å¯¹åº”çš„æ•°æ®ç±»å‹
# å†™å…¥é‡å¤æ•°æ®ã€åˆ é™¤ã€rollback ä¼šå¯¼è‡´è‡ªå¢ ID ä¸è¿ç»­
# update erp_odp_tracking set odp_id =(select odp_id from erp_purchase where id=erp_odp_tracking.pur_id)

# æˆªå–å­—ç¬¦ä¸² SUBSTRING(fields, start, length)
# æ ¼å¼åŒ–æ—¶é—´ FROM_UNIXTIME(created_at, '%Y%m%d') /  UNIX_TIMESTAMP('2009-08-06')
# æ›´æ–°è¡¨çš„å­—ç¬¦é›† ALTER TABLE `log_stock` COLLATE='utf8mb4_unicode_ci';
# SELECT * FROM `v9_category_attribute` WHERE title_cn REGEXP BINARY  '[A-Z]';
# UPDATE products AS p LEFT JOIN (SELECT * FROM product_metas WHERE SUBSTRING(sku,1,LOCATE('-', sku)-1) = '' GROUP BY epid) AS t on t.epid = p.id SET p.sku = t.sku
# ALTER TABLE st_log auto_increment = 22;
# SELECT ROUND((total+trans_fee+fee_lines)*0.009197, 2) AS totals, CONCAT(c.last_name,c.first_name) AS customer, ca.email AS totals
into outfile '/var/www/console/storage/excel/bs-bi-ic.xlsx'
FROM erp_orders AS o
LEFT JOIN cus_tomer AS c ON c.id = o.ecid
LEFT JOIN cus_address AS ca ON ca.id = o.ecaid
WHERE order_site IN('bsc', 'bii', 'ich');
# UPDATE erp_order_prm SET content = CONCAT('<div class="pm-text">', content, '</div>') WHERE id < 12;
# update erp_order_track set numb = Replace(numb, '-', '') where numb like '%-%' and (id > 11192 and id < 13130);
# 20200115
SELECT o.order_id,from_unixtime(o.order_at),CONCAT(c.last_name,c.first_name) AS customer,o.total, ca.country,sum(op.quantity) AS qty,p.sgname,t.name,t.numb
into outfile '/var/www/console/storage/logs/bs.xlsx'
FROM erp_orders AS o LEFT JOIN erp_order_products AS op ON op.eoid = o.id
LEFT JOIN cus_tomer AS c ON c.id = o.ecid
LEFT JOIN cus_address AS ca ON ca.id = o.ecaid
LEFT JOIN product_metas AS pm ON pm.id = op.meta_id
LEFT JOIN products AS p ON p.id = pm.epid
LEFT JOIN erp_order_track AS t ON t.order_id = o.id
WHERE o.order_site ='bsc' AND o.status='completed' and op.quantity IS NOT NULL AND o.id > 24810
GROUP BY o.id
ORDER BY o.id DESC

mysql_secure_installation
CREATE USER 'mag'@'localhost' IDENTIFIED BY 'magento';
GRANT ALL ON magento.* TO 'mag'@'localhost';
FLUSH PRIVILEGES;

æŸ¥çœ‹å½“å‰MySQL æ”¯æŒçš„å­—ç¬¦é›†
SHOW CHARACTER SET;
SHOW CHARACTER SET LIKE 'utf8';
æŸ¥çœ‹æ ¡å¯¹è§„åˆ™å
SHOW COLLATION;
SHOW COLLATION WHERE Charset = 'utf8';

CREATE DATABASE world CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

> Install Elasticsearch <
https://www.onitroad.com/jc/archive/how-to-install-elasticsearch-on-debian.html
curl -X GET "http://localhost:9200/?pretty"

> è®¾ç½®é»˜è®¤ php ç‰ˆæœ¬
1ã€sudo update-alternatives --set php /usr/bin/php7.4
2ã€sudo update-alternatives --config php

> linux <
1ï¼šuname -aï¼ˆæŸ¥çœ‹ç‰ˆæœ¬å½“å‰æ“ä½œç³»ç»Ÿå†…æ ¸ä¿¡æ¯ï¼‰
2ï¼šsudo cat /proc/versionï¼ˆæŸ¥çœ‹å½“å‰æ“ä½œç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯ï¼‰
3ï¼šcat /etc/issue.
4ï¼šcat /etc/os-releaseï¼ˆæŸ¥çœ‹ç‰ˆæœ¬å½“å‰æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆä¿¡æ¯

# æŸ¥æ‰¾å«æœ‰æŸå­—ç¬¦ä¸²çš„æ‰€æœ‰æ–‡ä»¶
grep -rn "hello,world!" *

# shell è„šæœ¬å¼€å¤´
#!/bin/bash

#æŸ¥çœ‹ç›®å½•å¤§å°
du -sh /dir

#æŸ¥çœ‹ç›®å½•æ–‡ä»¶æ•°é‡
ls -l|grep "^-"| wc -l

ln -s æºç›®å½• ç›®æ ‡å¿«æ·æ–¹å¼

netstat -ntulp |grep 80

free -h
ps aux --sort -rss

# æŸ¥çœ‹é€»è¾‘ CPU ä¸ªæ•°
cat /proc/cpuinfo |grep "processor"| wc -l

# ç³»ç»Ÿæœ€å¤§å¯æ‰“å¼€çš„æ–‡ä»¶æ•°
ulimit -a|grep "open files"

# è®¾ç½® ç³»ç»Ÿæœ€å¤§å¯æ‰“å¼€çš„æ–‡ä»¶æ•°
ulimit -n 5120

# 20200725 1922
æŸ¥çœ‹é“¾æ¥æ•°
netstat -pnt | grep :80 | wc -l
netstat -pnt | grep :443 | wc -l

# æ˜¾ç¤ºæœåŠ¡å™¨ä¸Šæ‰€æœ‰çš„æ¯ä¸ªIPå¤šå°‘ä¸ªé“¾æ¥æ•°
netstat -ntu | awk '{print $5}' | cut -d: -f1 | sort | uniq -c | sort -n

convert 645737.jpg -resize 100x100 645737.jpg

  x debian
  æ¸…é™¤å¸è½½æ®‹ç•™
- apt purge
- sudo apt-cache show apache2
  åˆ‡æ¢æ¡Œé¢ç¯å¢ƒ
- sudo update-alternatives --config x-session-manager
- sudo dpkg-reconfigure sddm
  x uuid
- cat /proc/sys/kernel/random/uuid
- uuidgen | sed 's/-//g'
  æŸ¥è¯¢ç³»ç»Ÿå·²ç»å®‰è£…çš„wpsè½¯ä»¶
- dpkg -l | grep wps 

 x alias
-vim ~/.bashrc
-source ~/.bashrc
-alias -p
-unalias

> docke <
 sudo usermod -aG docker $USER

> magento <
 after install completed
-php bin/magento setup:di:compile
-bin/magento setup:static-content:deploy -f
-bin/magento cron:install
-bin/magento cron:run
  build moudel
  -bin/magento module:status
  -bin/magento module:enable Mageplaza_HelloWorld
  -bin/magento setup:upgrade
  -bin/magento setup:static-content:deploy

-bin/magento deploy:mode:show
-bin/magento deploy:mode:set developer / production

 Magento-2:Class Magento\Framework\App\Http\Interceptor does not exist
-bin/magento setup:di:compile

> vim <
æŸ¥æ‰¾å¹¶æ›¿æ¢
:%s/path_to_website/var\/www\/ocart/g

> ufw <
apt install ufw
https://github.com/Paul-Reed/cloudflare-ufw


è¦åœ¨Plasmaä¸Šåˆ›å»ºå…¨å±å¯åŠ¨å™¨ï¼Œè¯·å°†Application Dashboardå°éƒ¨ä»¶æ·»åŠ åˆ°æ‚¨çš„å–·å°„å™¨æˆ–æ¡Œé¢ã€‚æ·»åŠ åï¼Œæ‚¨å°†æœ‰ä¸€ä¸ªæŒ‰é’®å¯ä»¥è®¿é—®å®ƒã€‚åœ¨KDE 4.xä¸Šï¼Œå®‰è£…Homerunè½¯ä»¶åŒ…ï¼Œè¯¥è½¯ä»¶åŒ…åœ¨/ usr / binä¸­æä¾›äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ç”¨äºå¯åŠ¨ç±»ä¼¼çš„ç•Œé¢ã€‚
